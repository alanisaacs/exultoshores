{% extends "wineBase.html" %}

{% block content %}

<script>
    function onSubmission() {
        // Markup description
        // convertUserMarkup is in scripts_all.js
        let desc = document.getElementById("description");
        desc.value = convertUserMarkup(desc.value);
    }
</script>

<div class=bar_header>Edit a wine record in the database</div>

<form action="/wine/wineUpdate?wineid={{wineid}}" method="POST">
<table>
    <tr>
        <th>Field</th>
        <th>Value</th>
    </tr>          
    <tr>
        <td>Description</td>
        <td><textarea maxlength="1000" name="description" id="description"
                cols="100" rows="12">{{wineDescription}}</textarea>
        </td>
    </tr>           
    {% for k in wineToEdit %}
        <tr>
            <td>{{k}}</td>
            <td>
                <input type="text" maxlength="100" name="{{k}}"
                    value="{{wineToEdit[k]}}">
            </td>
        </tr>
    {% endfor %}
</table>
<p>
    <button type="submit" id="submit" onclick=onSubmission()>
        Submit Changes
    </button>
</p> 
</form>

{% endblock %}